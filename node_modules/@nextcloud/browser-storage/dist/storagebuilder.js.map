{"version":3,"file":"storagebuilder.js","names":["_scopedstorage","_interopRequireDefault","require","obj","__esModule","default","_defineProperty","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","t","i","_toPrimitive","r","e","Symbol","toPrimitive","call","TypeError","String","Number","StorageBuilder","constructor","appId","persist","arguments","length","undefined","persisted","clearOnLogout","clear","clearedOnLogout","build","ScopedStorage","window","localStorage","sessionStorage","exports"],"sources":["../lib/storagebuilder.ts"],"sourcesContent":["import Storage from './storage'\nimport ScopedStorage from './scopedstorage'\n\nexport default class StorageBuilder {\n\n\tprivate appId: string\n\tprivate persisted = false\n\tprivate clearedOnLogout = false\n\n\tconstructor(appId: string) {\n\t\tthis.appId = appId\n\t}\n\n\tpersist(persist: boolean = true): StorageBuilder {\n\t\tthis.persisted = persist\n\t\treturn this\n\t}\n\n\tclearOnLogout(clear: boolean = true): StorageBuilder {\n\t\tthis.clearedOnLogout = clear\n\t\treturn this\n\t}\n\n\tbuild(): Storage {\n\t\treturn new ScopedStorage(\n\t\t\tthis.appId,\n\t\t\tthis.persisted ? window.localStorage : window.sessionStorage,\n\t\t\t!this.clearedOnLogout,\n\t\t)\n\t}\n\n}\n"],"mappings":";;;;;;AACA,IAAAA,cAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA2C,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,SAAAG,gBAAAH,GAAA,EAAAI,GAAA,EAAAC,KAAA,IAAAD,GAAA,GAAAE,cAAA,CAAAF,GAAA,OAAAA,GAAA,IAAAJ,GAAA,IAAAO,MAAA,CAAAC,cAAA,CAAAR,GAAA,EAAAI,GAAA,IAAAC,KAAA,EAAAA,KAAA,EAAAI,UAAA,QAAAC,YAAA,QAAAC,QAAA,oBAAAX,GAAA,CAAAI,GAAA,IAAAC,KAAA,WAAAL,GAAA;AAAA,SAAAM,eAAAM,CAAA,QAAAC,CAAA,GAAAC,YAAA,CAAAF,CAAA,uCAAAC,CAAA,GAAAA,CAAA,GAAAA,CAAA;AAAA,SAAAC,aAAAF,CAAA,EAAAG,CAAA,2BAAAH,CAAA,KAAAA,CAAA,SAAAA,CAAA,MAAAI,CAAA,GAAAJ,CAAA,CAAAK,MAAA,CAAAC,WAAA,kBAAAF,CAAA,QAAAH,CAAA,GAAAG,CAAA,CAAAG,IAAA,CAAAP,CAAA,EAAAG,CAAA,uCAAAF,CAAA,SAAAA,CAAA,YAAAO,SAAA,yEAAAL,CAAA,GAAAM,MAAA,GAAAC,MAAA,EAAAV,CAAA;AAE5B,MAAMW,cAAc,CAAC;EAMnCC,WAAWA,CAACC,KAAa,EAAE;IAAAtB,eAAA;IAAAA,eAAA,oBAHP,KAAK;IAAAA,eAAA,0BACC,KAAK;IAG9B,IAAI,CAACsB,KAAK,GAAGA,KAAK;EACnB;EAEAC,OAAOA,CAAA,EAA0C;IAAA,IAAzCA,OAAgB,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;IAC9B,IAAI,CAACG,SAAS,GAAGJ,OAAO;IACxB,OAAO,IAAI;EACZ;EAEAK,aAAaA,CAAA,EAAwC;IAAA,IAAvCC,KAAc,GAAAL,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;IAClC,IAAI,CAACM,eAAe,GAAGD,KAAK;IAC5B,OAAO,IAAI;EACZ;EAEAE,KAAKA,CAAA,EAAY;IAChB,OAAO,IAAIC,sBAAa,CACvB,IAAI,CAACV,KAAK,EACV,IAAI,CAACK,SAAS,GAAGM,MAAM,CAACC,YAAY,GAAGD,MAAM,CAACE,cAAc,EAC5D,CAAC,IAAI,CAACL,eACP,CAAC;EACF;AAED;AAACM,OAAA,CAAArC,OAAA,GAAAqB,cAAA","ignoreList":[]}